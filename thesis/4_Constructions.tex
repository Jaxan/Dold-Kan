\section{Constructions}
\label{sec:Constructions}

Comparing chain complexes and simplicial abelian groups, we see a similar structure. Both objects consists of a sequence of abelian groups, with maps in between. At first sight simplicial abelian groups have more structure, because there are maps in both directions. It is not clear how to make degeneracy maps given a chain complex, in fact it is already unclear how to define more maps (the face maps) out of one (the boundary one). Constructing a chain complex from a simplicial abelian group on the other hand seems doable.

\subsection{Unnormalized chain complex}
Given a simplicial abelian group $A$, we have a family of abelian groups $A_n$. We define a grouphomomorphism $\del_{n-1} : A_n \to A_{n-1}$ as:
$$\del_{n-1} = d_0 - d_1 + \ldots + (-1)^n d_n \text{ for every } n > 0.$$
\begin{lemma}
	Using $A_n$ as the family of abelian groups and the maps $\del_n$ as boundary maps gives a chain complex.
\end{lemma}
\begin{proof}
	We already have a collection of abelian groups together with maps, so the only thing to proof is $\del_n \circ \del_{n+1} = 0$.

	\todo{C: insert calculation with sums}

	So indeed this is a chain complex.
\end{proof}

This construction gives a functor $C : \sAb \to \Ch{\Ab}$\todo{C: prove this? Is it a adjunction?}. And in fact we already used it in the construction of the singular chaincomplex, where we defined the boundary maps as $\del(\sigma) = \sigma \circ d_0 - \sigma \circ d_1 + \ldots + (-1)^{n+1} \sigma \circ d_{n+1}$ (on generators). The terms $\sigma \circ d_i$ are the maps given by the $\mathbf{Hom}$-functor from $\Top$ to $\Set$, in fact this $\mathbf{Hom}$-functor can be used to get a functor $Sing : \Top \to \sSet$, applying the free abelain group pointwise give a functor $\Z^\ast : \sSet \to \sAb$, and finally using the functor $C$ gives the singular chain complex.
\todo{C: is this a nice thing to add?}

Let us investigate whether this functor can be used for our sought equivalence. For a functor from $\Ch{\Ab}$ to $\sAb$ we cannot simply take the same collection of abelian groups. This is due to the fact that the degenracy maps should be injective. This means that for a simplicial abelian group $A$, if we know $A_n$ is non-trivial, then all $A_m$ for $m > n$ are also non-trivial.

But for chain complexes it \emph{is} possible to have trivial abelian groups $C_m$, while there is a $n < m$ with $C_n$ non-trivial. Take for example the chain complex $ C = \ldots \to 0 \to 0 \to \Z $. Now if we would construct a (non-trivial) simplicial abelian group $K(C)$ from this chain complex, we now know that $K(C)_n$ is non-trivial for all $n \in \N$. This means that $C(K(C))_n$ is non-trivial for all $n \in \N$. For an equivalence we require a (natural) isomorphism: $C(K(C)) \tot{\iso} C$, this in particular means an isomorphism in each degree $n > 0$: $ 0 \neq C(K(C))_n \tot{\iso} C_n = 0 $, which is not possible. So the functor $C$, as defined as above, will not give us the equivalence we wanted, although it is a very nice functor.

\subsection{Normalized chain complex}
To repair this defect we should be more careful. Given a simplicial abelian group, simply taking the same collection for our chain complex will not work (as shown above). Instead we are after some ``smaller'' abelian groups, and in some cases the abelian groups should completely vanish (as in the example above).

Given a simplicial abelian group $A$, we define abelian groups $N(A)_n$ as:
$$ N(A)_n = \bigcap_{i=1}^{n} \ker(d_i : A_n \to A_{n-1}). $$
Now define grouphomomorphisms $\del : N(A)_n \to N(A)_{n-1}$ as:
$$ \del = d_0|_{N(A)_n}. $$
\begin{lemma}
	The function $ \del $ is well-defined. Furthermore $ \del \circ \del = 0 $, hence $N(A)$ is a chain complex.
\end{lemma}
\begin{proof}
	\todo{C: This is easy}
\end{proof}

\todo{C: As an example calculate $N(\Z[\Delta[0]])$}
\todo{C: define $D(X)_n$}
\todo{C: work out following lemmas}

To see what $N$ does exactly there are some lemmas. For the following lemmas let $X \in \sAb$ be an arbitrary simplicial abelian group and $n \in \N$.

\begin{lemma}
	\label{le:decomp1}
	For all $x \in X_n$ we have:
	$$ x = b + c,$$
	where $b \in N(X)_n$ and $c \in D(X)_n$.
\end{lemma}
\begin{proof}
	define $P^k = \{ x \in X_n \I d_i x = 0, i > k\}$, then do induction (from $k$ to 0).
	gives $x = b+c$ with $b \in P^0$, $c \in D(X)_n$.
\end{proof}
\begin{lemma}
	\label{le:decomp2}
	For all $x \in X_n$, if $s_i x \in N(X)_{n+1}$, then $x = 0$.
\end{lemma}
\begin{proof}
	Simply calculate using the simplicial equations: $0 = d_{i+1} s_i x = x$.
\end{proof}

The first lemma tells us that every $n$-simplex in $X$ can be written as something in $N(X)$ plus a degenerate $n$-simplex. The latter lemma asures that there are no degenerate $n$-simplices in $N(X)$. So this gives us:

\begin{corollary}
	$X_n = N(X)_n \oplus D(X)_n$
\end{corollary}

We can extend the above lemmas to a more general statement. \todo{C: figure out what $\ast$ exactly is.}

\begin{lemma}
	\label{le:decomp3}
	For all $x \in X_n$ we can write $x$ as:
	$$ x = \sum_\beta \beta^\ast (x_\beta), $$
	for certain $x_\beta \in N(X)_n$ and $\beta : [n] \epi [p]$.
\end{lemma}
\begin{proof}
	induction using the first lemma
\end{proof}
\begin{lemma}
	\label{le:decomp4}
	For $\beta \neq \gamma$ we have $\beta^\ast(N(X))_p \cap \gamma^\ast(N(X))_q = 0$.
\end{lemma}
\begin{proof}
	?
\end{proof}

Again the former lemma of these two lemmas proofs the existence of a decomposition and the latter proofs the uniqueness. So combining this gives:

\begin{corollary}
	\label{cor:decomp}
	For all $x \in X_n$ we can write $x = \sum_\beta \beta^\ast (x_\beta)$ in a unique way.
\end{corollary}

And by considering $X_n$ as a whole we get:

\begin{corollary}
	$X_n = \bigoplus_{[n] \epi [p]} N(X)_p$.
\end{corollary}

Using corollary~\ref{cor:decomp} we can proof a nice categorical fact about $N$, which we will use later on. \todo{C: $N$ is add.}
\begin{lemma}
	The functor $N$ is fully faithful, i.e.:
	$$ N : \Hom{\sAb}{A}{B} \iso \Hom{\Ch{\Ab}}{N(A)}{N(B)}. $$
\end{lemma}
\begin{proof}
	First we proof $N$ is injective on maps. Let $f: A \to B$ and assume $N(f) = 0$, for $x \in A_n$ we know $x = \sum_\beta \beta^\ast x_\beta$, so
	\begin{align*}
		f(x) &= \textstyle f(\sum_\beta N(\beta) (x_\beta)) \\
			&= \textstyle \sum_\beta f(N(\beta) (x_\beta)) \\ 
			&= \textstyle \sum_\beta N(f) (N(\beta) (x_\beta)) \\ 
			&= \textstyle \sum_\beta N(\beta) (N(f) (x_\beta)) = 0,	
	\end{align*}
	where we used naturality of $f$ in the last step. We now see that $f(x) = 0$ for all $x$, hence $f = 0$. So indeed $N$ is injective on maps.

	Secondly we have to proof $N$ is surjective on maps. Let $g : N(A) \to N(B)$, define $f : A \to B$ as:
	$$ f(x) = \sum_\beta \beta^\ast g(x_\beta), $$
	again we have written $x$ as $x = \sum_\beta \beta^\ast x_\beta$. Clearly $N(f) = g$. \todo{C: is this clear?}
\end{proof}

\subsection{From $\Ch{\Ab}$ to $\sAb$}
For the other way around we actually get a functor for free, via abstract nonsense. Let $F : \sAb \to A$ be any functor, where $A$ is an abelian category. We are after a functor $G : A \to \sAb$, this means that if we are given $C \in A$, we are looking for a functor $G(C) : \DELTA^{op} \to \Ab$. Fixing $C$ in the second argument of the $\mathbf{Hom}$-functor gives: $\Hom{A}{-}{C} : A^{op} \to \Ab$, because $A$ is an abelian category. We see that the codomain of this functor already looks good, now if we have some functor from $\DELTA^{op}$ to $A^{op}$, we can precompose, to obtain a functor from $\DELTA^{op}$ to $\Ab$.

Now recall that we have a family of protoype simplicial sets $\Delta[n]$, which are given by the functor $\Delta : \DELTA \to \sSet$. We can apply the free abelian group pointwise, which gives a functor $\Z^{\ast} : \sSet \to \sAb$. And finally we have our functor $F : \sAb \to A$. Composing these gives:
$$ F \Z^{\ast} \Delta : \DELTA \to A. $$
We can formally regard this functor as a functor from $\DELTA^{op}$ to $A^{op}$. Now combining this with the $\mathbf{Hom}$-functor gives:
$$ \Hom{A}{F \Z^{\ast} \Delta (-)}{C} : \DELTA^{op} \to \Ab. $$
Now this is a functor, because it is a composition of functors. Furthermore it is also functorial in the second argument, giving a functor
$$ \Hom{A}{F \Z^{\ast} \Delta (-)}{-} : A \to \sAb $$
where we are supposed to fill in the second argument first, leaving us with a simplicial abelian group.

Now we know that $\Ch{\Ab}$ is an abelian group and we have actually two functors $C, N : \sAb \to \Ch{\Ab}$, so we now have functors from $\Ch{\Ab} \to \sAb$. Of course we will be interested in the one using $N$. So we define the functor:
$$ K(C) = \Hom{\Ch{\Ab}}{N\Z^\ast\Delta[-]}{C} \in \sAb. $$
This definitions is very abstract, but luckily we can also give a more explicit definition. By writing it out for low dimensions we see:

$$ K(C)_0 = \Hom{\Ch{\Ab}}{N\Z^\ast\Delta[0]}{C} = \Bigg\{
\begin{tikzpicture}[baseline=-0.5ex]
	\matrix (m) [matrix of math nodes, row sep=1em, column sep=1em] { 
		\cdots  & 0 & 0 & \Z  \\
		\cdots  & C_2 & C_1 & C_0 \\
	}; 

	\foreach \x in {1, 2}
		\foreach \i/\j in {1/2, 2/3, 3/4} \draw[->] (m-\x-\i) -- (m-\x-\j);
	
	\foreach \i/\j in {2/2, 3/1, 4/0} \draw[->] (m-1-\i) -- node {$f_\j$} (m-2-\i);
\end{tikzpicture}
\Bigg\} \iso C_0, $$
because for $f_1, f_2, \ldots$ there is now choice at all, and for $f_0 : \Z \to C_0$ we only have to choose an image for $1 \in \Z$. In the next dimension we see:

$$ K(C)_1 = \Hom{\Ch{\Ab}}{N\Z^\ast\Delta[1]}{C} = \Bigg\{
\begin{tikzpicture}[baseline=-0.5ex]
	\matrix (m) [matrix of math nodes, row sep=1em, column sep=1em] { 
		\cdots  & 0 & \Z & \Z^2  \\
		\cdots  & C_2 & C_1 & C_0 \\
	}; 

	\foreach \x in {1, 2}
		\foreach \i/\j in {1/2, 2/3, 3/4} \draw[->] (m-\x-\i) -- (m-\x-\j);
	
	\foreach \i/\j in {2/2, 3/1, 4/0} \draw[->] (m-1-\i) -- node {$f_\j$} (m-2-\i);
\end{tikzpicture}
\Bigg\} \iso C_1 \oplus C_0, $$

because again we can choose $f_1$ anyway we want, which gives us $C_1$. But then we are forced to choose $f_0(x, x) = \del(f_1(x))$ for all $x \in \Z$, so we are left with choosing an element $c \in C_0$ for defining $f(1,-1) = c$. Adding this gives $C_1 \oplus C_0$. This pattern can be continued and gives the following result:

\begin{proposition}
	For any chain complex $C$ we have $K(C)_n \iso \bigoplus_{[n] \epi [p]} C_p$.
\end{proposition}
